- Refactor the code until now


- Implement generate_new_terminal()
- Implement restore_state()
